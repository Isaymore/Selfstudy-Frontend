<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        let obj = {
            username: '星爷',
            age: 17,
            gender: '男',
            message: {
                heigth: 160,
                hobby: '美食'
            },
            arr: [1, 2, 3]
        }

        let newObj = {}

        // 深拷贝
        function deepCopy(newObj, obj) {
            for (let key in obj) {
                if (obj[key] instanceof Array) {
                    newObj[key] = []
                    // 递归
                    deepCopy(newObj[key], obj[key])
                } else if (obj[key] instanceof Object) {
                    newObj[key] = {}
                    deepCopy(newObj[key], obj[key])
                } else {
                    newObj[key] = obj[key]
                }

            }
        }
        deepCopy(newObj, obj)
        newObj.message.hobby = '看星爷电影'
        newObj.arr[0] = 666
        console.log(obj, newObj)

    </script>
</body>

</html>